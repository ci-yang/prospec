# Proposal Format Reference

This document defines the expected format for `proposal.md`, used by the **prospec-new-story** Skill.

---

## Purpose

`proposal.md` is the starting point of a Story, describing user needs, acceptance criteria, and related modules.

---

## Standard Format

### 1. User Story

Use the standard User Story format:

```markdown
## User Story

As a [role/user type],
I want [feature/requirement],
So that [purpose/value].
```

**Example:**

```markdown
## User Story

As a backend developer,
I want a unified error handling mechanism,
So that I can manage errors consistently across the application.
```

---

### 2. Acceptance Criteria

Use a numbered list of specific, verifiable conditions:

```markdown
## Acceptance Criteria

1. [Specific verifiable condition 1]
2. [Specific verifiable condition 2]
3. [Specific verifiable condition 3]
...
```

**Example:**

```markdown
## Acceptance Criteria

1. All API endpoints return standardized error responses
2. Error codes follow the convention defined in {{constitution_path}}
3. Stack traces are logged but not exposed to clients
4. HTTP status codes map correctly to error types
```

---

### 3. Related Modules

List related modules based on keyword matching from `{{knowledge_base_path}}/_index.md`:

```markdown
## Related Modules

- **module-name-1**: [Brief explanation of relevance]
- **module-name-2**: [Brief explanation of relevance]
```

**Example:**

```markdown
## Related Modules

- **error-handler**: Core error handling logic
- **api-middleware**: HTTP error response formatting
- **logger**: Error logging and monitoring
```

---

### 4. Notes (Optional)

Additional context, technical considerations, or constraints:

```markdown
## Notes

- [Additional context or technical considerations]
- [Known limitations or risks]
```

---

## File Length Guidelines

- Keep under **100 lines**
- If Acceptance Criteria exceeds 10 items, consider splitting into multiple Stories

---

## Reference Information

- Project name: `{{project_name}}`
- AI Knowledge path: `{{knowledge_base_path}}`
- Constitution file: `{{constitution_path}}`
