---
name: prospec-implement
description: "Implementation | 執行實作 - Execute tasks from the task list, implementing features one by one. Triggers: implement, start coding, write code, execute tasks, 實作, 開始做, 寫 code, 執行任務"
---

# Prospec Implement Skill

## Activation

When triggered, briefly describe in the user's language:
- That you'll read tasks.md and execute tasks in order
- Knowledge will be loaded progressively as needed
- Each completed task will be immediately marked in tasks.md

## Startup Loading

1. Read `.prospec/changes/[name]/tasks.md` — find the first uncompleted task
2. Read `.prospec/changes/[name]/plan.md` — understand design intent
3. Read `.prospec/changes/[name]/delta-spec.md` — understand file specifications
4. **MANDATORY** — Read [`references/implementation-guide.md`](references/implementation-guide.md) for implementation guidelines

**Do NOT** load all module AI Knowledge at once. Load on demand.

## Progressive Knowledge Loading Strategy

| Layer | What to Load | When to Load |
|-------|-------------|--------------|
| 1 | tasks.md + plan.md + delta-spec.md | At startup — understand current tasks |
| 2 | Related module `README.md` | When starting implementation — understand module APIs and patterns |
| 3 | Source code | When technical questions arise — verify implementation details |

## Core Workflow

### Phase 1: Read Task List

Parse tasks.md, display progress statistics (completed/total/percentage), locate current task.

### Phase 2: Load Relevant Knowledge

Extract architecture design and technical decisions related to current task from plan.md.
Extract file specifications for current task from delta-spec.md.
Load relevant module AI Knowledge (Layer 2).

### Phase 3: Execute Implementation

Implement code based on delta-spec specifications and module design patterns.
Follow `{{knowledge_base_path}}/_conventions.md` code style.

### Phase 4: Verify Implementation

After completion, perform quick quality check:
- Specification compliance (against delta-spec.md)
- Type safety
- Error handling
- Constitution compliance

### Phase 5: Mark Complete

Update checkbox in tasks.md `- [ ]` → `- [x]`, display updated progress.

### Phase 6: Move to Next Task

Auto-locate next uncompleted task. If switching architecture layers, load new module knowledge.
When all tasks are complete, suggest `/prospec-verify`.

## Task Execution Rules

- **Execute in order**: Follow tasks.md architecture layer sequence (Types → Lib → Services → CLI → Tests)
- **`[P]` marked tasks**: Can be parallelized but AI still executes sequentially; remind user they can assign to other developers
- **Immediate marking**: Update tasks.md immediately after completing each task
- **Commit strategy**: Suggest commit after completing a group of related tasks

## NEVER

- **NEVER** skip tasks to work on later ones — unless earlier tasks have a clear blocker
- **NEVER** start implementation without tasks.md — guide user to run `/prospec-tasks` first
- **NEVER** load all module AI Knowledge at once — only load modules relevant to current task
- **NEVER** forget to mark task completion — update `[x]` immediately after each task
- **NEVER** deviate from delta-spec.md specifications without documenting — explain the reason first if adjustment needed
- **NEVER** skip quality check before marking complete — at minimum confirm type safety and spec compliance
- **NEVER** forget to suggest `/prospec-verify` when all tasks are complete

## Error Handling

| Scenario | Action |
|----------|--------|
| tasks.md not found | Guide user to run `/prospec-tasks` first |
| Task has unmet dependency | Suggest completing dependency first / skip and record blocker |
| Unclear specification | Decide based on conventions and best practices / return to `/prospec-plan` to supplement |
| Technical blocker | Record blocker, continue with other independent tasks |

All generated files must be written in English.
