---
name: prospec-new-story
description: "New Story | 新增故事 - Create change requests by guiding User Story and acceptance criteria definition. Triggers: new feature, requirement, story, I want to, change, 新功能, 需求, 我想做, 新增功能, 變更"
---

# Prospec New Story Skill

## Activation

When triggered, briefly describe in the user's language:
- That you'll guide them through defining a User Story with acceptance criteria
- The interview will take 3-4 questions to converge
- A proposal.md will be created in `.prospec/changes/`

## Startup Loading

1. Read `{{knowledge_base_path}}/_index.md` — identify related modules
2. Read `{{constitution_path}}` — prepare Constitution check
3. **MANDATORY** — Read [`references/proposal-format.md`](references/proposal-format.md) for proposal.md format specification

## Core Workflow

### Phase 1: Requirements Interview (3-4 questions to converge)

Collect: Role (who), Feature (what), Value (why), Constraints (limitations).

### Phase 2: Derive Change Name

Derive a kebab-case name from interview results (verb-first, 2-4 words). Confirm before proceeding.

### Phase 3: Create Scaffolding

| Scenario | Action |
|----------|--------|
| Directory doesn't exist | Create `.prospec/changes/[name]/` + `metadata.yaml`(status: story) + empty `proposal.md` |
| Already exists | Read existing files, proceed to populate |

### Phase 4: Write proposal.md

Follow `references/proposal-format.md` format:
- User Story (As a / I want / So that)
- Acceptance Criteria (at least 3 verifiable conditions)
- Related Modules (match from `_index.md`)
- Notes (optional)

### Phase 5: Constitution Check

Compare against 3+ most relevant Constitution principles:
- **PASS**: Fully aligned
- **WARN**: Partially aligned, with suggestions
- **FAIL**: Violates principle, must adjust

### Phase 6: Summary + Next Steps

Save proposal.md, suggest:
1. `/prospec-plan` — proceed to planning
2. `/prospec-ff` — fast-forward full planning
3. Manually adjust proposal.md

## NEVER

- **NEVER** create non-kebab-case change names — all lowercase, hyphen-separated, verb-first
- **NEVER** complete a Story without Constitution check — principles must validate the proposal
- **NEVER** write implementation details in Acceptance Criteria — ACs focus on user-observable outcomes
- **NEVER** create a Story with fewer than 3 acceptance criteria
- **NEVER** include technical architecture or code in proposal.md — that belongs in plan.md
- **NEVER** forget to update metadata.yaml status
- **NEVER** ask more than 4 questions at once
- **NEVER** use generic "user" as the role — be specific (developer, project manager, system admin)

## Error Handling

| Scenario | Action |
|----------|--------|
| Scaffolding creation fails | Check if .prospec.yaml exists, prompt user to confirm project root |
| Constitution FAIL | Provide adjustment suggestions, or document exception reasoning |
| Module identification unclear | Suggest returning to `/prospec-explore` or continue, deepen in Plan phase |

All generated files must be written in English.
